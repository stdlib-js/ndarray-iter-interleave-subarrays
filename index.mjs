// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array-like-object@v0.2.2-esm/index.mjs";import{isPrimitive as t}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@v0.2.2-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/symbol-iterator@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-zeros@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-shape@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-numel@v0.2.2-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-slice@v0.2.2-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-maybe-broadcast-arrays@v0.2.2-esm/index.mjs";import{assign as o}from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-next-cartesian-index@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/slice-base-args2multislice@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";function h(p,v){var u,f,b,c,g,y,x,w,E,T,F,V,k,z;if(!e(p))throw new TypeError(j("invalid argument. First argument must be an array of ndarrays. Value: `%s`.",p));if(!t(v))throw new TypeError(j("null45",v));try{b=m(p)}catch(r){throw new TypeError(j("invalid argument. First argument must be an array of ndarrays which are broadcast-compatible. Value: `%s`.",p))}if(F=b.length,(E=(u=i(b[0])).length)<=v)throw new TypeError(j("invalid argument. First argument must be an array of ndarrays having at least %d dimensions after broadcasting.",v+1));for(0===(T=a(u))&&(c=!0),V=(y=E-v-1)+1;V<E;V++)T/=u[V];for(T*=F,w=u[y],g=[],V=0;V<F;V++){for(x=n(E),k=y+1;k<E;k++)x[k]=null;g.push(x)}return V=-1,z=-1,r(f={},"next",(function(){var r,e,t;if(V+=1,c||V>=T)return{done:!0};r=g[z=(z+1)%F],e=l(r),t=(r[y]+1)%w,r[y]=t,0===t&&(r=o(u,"row-major",r,y-1,r));return{value:d(b[z],e,!0,!1),done:!1}})),r(f,"return",(function(r){if(c=!0,arguments.length)return{value:r,done:!0};return{done:!0}})),s&&r(f,s,(function(){return h(p,v)})),f}export{h as default};
//# sourceMappingURL=index.mjs.map
